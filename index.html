<!DOCTYPE html>
<head>
<meta charset="utf-8">
<style> /* set the CSS */


body {
    background: linear-gradient(to top, #ffffcc 0%, #996633 36%); padding-right: 20px; padding-left: 20px;
}
h1 {
  font-family: Georgia; font-size: 300%;
}
input {
  border:1px;
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 2px;
}

img {
  border: 1px;
  border-radius: 4px;
  padding: 5px;
  width: 150px;
}
img:hover {
  box-shadow: 0 0 2px 1px rgb(255, 182, 193);
  
}

</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- load the d3.js library -->    
<script src="https://d3js.org/d3.v4.min.js"></script>

</head>
<body>

<h1>Syriac Manuscripts</h1>
<h4>
File name:
<input id="myinput" type ="text" name = "filename">
<br>
Min date:
<input id="min" type="number" name="min">
<br>
Max date:
<input id="max" type="number" name="max">
<button id="submitButton">Submit</button>
<br>
<br>
<hr>
</h4>
<script>

function appendImages(input) {

  d3.json("getData.php?filename="+input, function(error, data) {
    if (error) {
       console.log("Something went wrong...");
       throw error;
    }

    data.forEach(function(d) {
        console.log(d);
        var x = document.createElement("IMG");
        x.setAttribute("src", d.Image_Name);
        x.setAttribute("width", "100");

        var a = document.createElement("a");
          a.setAttribute("class", "mylink");
          a.setAttribute("target", "_blank");
          a.setAttribute("href", d.Image_Name);
          a.appendChild(x);
        
        d3.select("body").append(function(){return a});
    });
  });

}

d3.select('#submitButton').on('click', function() {
    $(".mylink").remove();
    var input = $("#myinput").val()

    appendImages(input);

});


appendImages('');


</script>

</body>


</html>
